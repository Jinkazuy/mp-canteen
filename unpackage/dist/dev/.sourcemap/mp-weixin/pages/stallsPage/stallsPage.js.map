{"version":3,"sources":["webpack:///J:/homeWorkFile/canteen-mp-new/main.js","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?091d","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?7f76","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?2d0e","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?c635","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?7ec4","webpack:///J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue?aa17"],"names":["createPage","Page","data","active","goodsInfoModshow","goodsInfoModData","goodsInfoModCount","modelStyle","maskStyle","goodsCarModShow","canteenID","stallID","goodsList","userGoodsCarDatas","userGoodsCarTotalCount","userGoodsCarTotalPrice","onLoad","e","console","log","onShow","islogin","uni","navigateTo","url","getGoodsData","setTimeout","computeCanteenStallGoodsCarCount","store_userGoodsCarDatas","computeCanteenStallGoodsCarTotalPrice","computeCanteenStallGoodsCarDatas","methods","tabOnChange","showGoodsMod","CurrentClickGoodsInfo","goodsCount","goodsInfoModshowOnClose","openGoodsCar","goodsCarModClose","clearGoodsCar","clt","clearTimeout","clobj","canteenId","stallId","clearUserGoodsCar","res","switchTab","complete","newVal","length","i","j","stalls","stallsId","k","count","Number","goodsInfo","price","toFixed","push","components","goodsScrollSB","star","goodsCar","adsubSymbols","evaluateListItem","computed","watch","handler","deep"],"mappings":"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","file":"pages/stallsPage/stallsPage.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/stallsPage/stallsPage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./stallsPage.vue?vue&type=template&id=21012100&\"\nvar renderjs\nimport script from \"./stallsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./stallsPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stallsPage.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('21012100')) {\n      api.createRecord('21012100', component.options)\n    } else {\n      api.reload('21012100', component.options)\n    }\n    module.hot.accept(\"./stallsPage.vue?vue&type=template&id=21012100&\", function () {\n      api.rerender('21012100', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"J:/homeWorkFile/canteen-mp-new/pages/stallsPage/stallsPage.vue\"\nexport default component.exports","export * from \"-!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stallsPage.vue?vue&type=template&id=21012100&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stallsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stallsPage.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n// 星星组件\r\nimport star from '@/components/layout/star.vue'\t\r\n// 商品滑动列表\r\n// 这里两种方案，因为没有了左侧的分类滚动，所以启用另一个没有左侧商品分类的滚动条\r\n// import goodsScroll from '@/components/stallsPage/goodsScroll.vue'\t\r\nimport goodsScrollSB from '@/components/stallsPage/goodsScrollSB.vue'\t\r\n// 购物车bar\r\nimport goodsCar from '@/components/stallsPage/goodscarBar.vue'\t\r\n// 加减号组，商品详情\r\nimport adsubSymbols from '@/components/stallsPage/adsubSymbols.vue'\t\r\n// 用户评价组件\r\nimport evaluateListItem from '@/components/stallsPage/evaluateListItem.vue'\r\n// 拿到vuex中的函数\r\nimport {mapGetters, mapActions ,mapMutations} from 'vuex'\t\r\n\r\n// 获取商品列表\r\nimport {http_getGoodsList} from '@/utils/http/http_getGoodsList.js'\t\r\n\r\nimport Toast from '../../wxcomponents/weapp/dist/toast/toast'\r\n// 检测是否登录、token是否过期\r\nimport {isLogin} from '@/utils/utils.js'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// tablayout索引\r\n\t\t\tactive: 0,\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 被点击的商品卡片，展示浮层\r\n\t\t\tgoodsInfoModshow: false,\r\n\t\t\t// 被点击的卡片的传过来商品数据\r\n\t\t\tgoodsInfoModData: {},\r\n\t\t\t// 点击卡片，传过来的商品数据，因为created的原因，所以 在浮层加减号组件中不能立刻拿到商品数量\r\n\t\t\tgoodsInfoModCount: 0,\r\n\t\t\t// 弹出层样式\r\n\t\t\tmodelStyle: [],\r\n\t\t\t// 遮罩层样式\r\n\t\t\tmaskStyle: [],\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 购物车列表的上拉浮层\r\n\t\t\tgoodsCarModShow: false,\r\n\t\t\t\r\n\t\t\t// 餐厅id\r\n\t\t\tcanteenID: -1,\r\n\t\t\t\r\n\t\t\t// 档口id\r\n\t\t\tstallID: -1,\r\n\t\t\t\r\n\t\t\t// 该档口下的商品数据\r\n\t\t\tgoodsList: [],\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 该食堂下、该档口购物车是数据，而不是所有的购物车数据\r\n\t\t\tuserGoodsCarDatas: [],\r\n\t\t\t// 单个商品数据结构\r\n\t\t\t// {\r\n\t\t\t// \t// 商品ID\r\n\t\t\t// \tgoodsId: 2, \r\n\t\t\t// \t// 商品总个数\r\n\t\t\t// \tcount: 3,\r\n\t\t\t// \t// 商品信息(其中有商品价格)\r\n\t\t\t// \tgoodsInfo: {\r\n\t\t\t// \t\tboothNum: \"2\",\r\n\t\t\t// \t\tcanteenNum: \"1\",\r\n\t\t\t// \t\tcreateTime: '',\r\n\t\t\t// \t\tfootname: \"麻辣香锅2222\",\r\n\t\t\t// \t\tid: \"2\",\r\n\t\t\t// \t\tprice: \"15.56\",\r\n\t\t\t// \t\tshelve: \"1\",\r\n\t\t\t// \t\tstock: \"99\"\r\n\t\t\t// \t} \r\n\t\t\t// }\r\n\t\t\t\r\n\t\t\t// 记录 计算出的购物车总数\r\n\t\t\tuserGoodsCarTotalCount: 0,\r\n\t\t\t\r\n\t\t\t// 记录 计算出的购物车商品总价\r\n\t\t\tuserGoodsCarTotalPrice: 0,\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tonLoad(e) {\r\n\t\tconsole.log('===========================')\r\n\t\tconsole.log(e)\r\n\t\tthis.canteenID = e.canteenID || -1\r\n\t\tthis.stallID = e.stallID || -1\r\n\t},\r\n\tasync onShow() {\r\n\t\t\r\n\t\t// 检测用户登录\r\n\t\t// 登录后才能点餐\r\n\t\t\r\n\t\t\r\n\t\tlet islogin = await isLogin()\r\n\t\tif(!islogin) {\r\n\t\t\t// 用户未登录，跳转到登录页\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\t// 跳转路径\r\n\t\t\t\t// 摊位列表页\r\n\t\t\t\turl: '../../pages/login/login'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\t// 获取档口ID\r\n\t\t// 如果档口id不等于-1,那么请求数据\r\n\t\tthis.getGoodsData()\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t// 再初始化的时候，就调用一次计算该食堂下、该商家购物车总数的方法\r\n\t\t// 计算购物车总数\r\n\t\t// 初始化还要稍等VUEX的数据，所以等到100毫秒\r\n\t\tsetTimeout(()=>{\r\n\t\t\t// 计算总数\r\n\t\t\tthis.computeCanteenStallGoodsCarCount(this.store_userGoodsCarDatas)\r\n\t\t\t// 计算总价格\r\n\t\t\tthis.computeCanteenStallGoodsCarTotalPrice(this.store_userGoodsCarDatas)\r\n\t\t\t// 获取所有购物车中  该食堂下的该档口的 购物车数据\r\n\t\t\tthis.computeCanteenStallGoodsCarDatas(this.store_userGoodsCarDatas)\r\n\t\t},100)\r\n\t},\r\n\tmethods: {\r\n\t\ttabOnChange(e) {\r\n\t\t\tconsole.log(e)\r\n\t\t},\r\n\t\t\r\n\t\t// 点击商品卡片，该商品将商品详细数据传给滚动栏，滚动栏拿到再传给本组件，也就是档口详情页\r\n\t\tshowGoodsMod(CurrentClickGoodsInfo, goodsCount) {\r\n\t\t\tconsole.log('被点击的商品的数据，做浮层=↓')\r\n\t\t\tconsole.log(CurrentClickGoodsInfo)\r\n\t\t\tthis.goodsInfoModData = CurrentClickGoodsInfo\r\n\t\t\tthis.goodsInfoModCount = goodsCount\r\n\t\t\t// 展示卡片\r\n\t\t\tthis.goodsInfoModshow = true\r\n\t\t},\r\n\t\t// 关闭商品详情卡片时的回调函数\r\n\t\tgoodsInfoModshowOnClose() {\r\n\t\t\tthis.goodsInfoModshow = false\r\n\t\t\tconsole.log('卡片关闭啦')\r\n\t\t},\r\n\t\t\r\n\t\t// 打开或关闭 购物车上拉浮层，这个函数由点击 子组件购物车bar 触发，传回来\r\n\t\topenGoodsCar() {\r\n\t\t\t// 这里看看商品数是否大于0\r\n\t\t\tthis.goodsCarModShow===true?this.goodsCarModShow=false:this.goodsCarModShow=true\r\n\t\t},\r\n\t\t// 关闭购物车上拉浮层的回调\r\n\t\tgoodsCarModClose() {\r\n\t\t\tthis.goodsCarModShow = false\r\n\t\t},\r\n\t\t\r\n\t\t// 清空购物车\r\n\t\tclearGoodsCar() {\r\n\t\t\t\r\n\t\t\t// 既然清空了，就关闭上拉浮层\r\n\t\t\tthis.goodsCarModShow = false\r\n\t\t\t\r\n\t\t\t// 这里要等一下清空购物车，不然隐藏购物车列表会有些小残留的样子\r\n\t\t\tif(clt) {\r\n\t\t\t\tclearTimeout(clt)\r\n\t\t\t}\r\n\t\t\tlet clt = setTimeout(()=>{\r\n\t\t\t\tlet clobj = {\r\n\t\t\t\t\tcanteenId: this.canteenID,\r\n\t\t\t\t\tstallId: this.stallID\r\n\t\t\t\t}\r\n\t\t\t\tthis.clearUserGoodsCar(clobj)\r\n\t\t\t\t\r\n\t\t\t},100)\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tasync getGoodsData() {\r\n\t\t\tif(this.canteenID!==-1) {\r\n\t\t\t\tif(this.stallID!==-1) {\r\n\t\t\t\t\tconsole.log('获取档口的食品列表')\r\n\t\t\t\t\t// 返回值规范：返回档口下食品数据 - 无问题， \r\n\t\t\t\t\t// \t\t\t  返回1 - 数据获取失败，\r\n\t\t\t\t\t//            返回2 - 本地store数据结构循环有问题\r\n\t\t\t\t\tlet res = await http_getGoodsList(this.canteenID, this.stallID)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res===2) {\r\n\t\t\t\t\t\t// 数据有问题跳转回首页\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: '../../pages/index/index',\r\n\t\t\t\t\t\t\tcomplete (res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if(res===1) {\r\n\t\t\t\t\t\tToast('获取数据失败，请返回首页刷新重试')\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t// 到这里了,那么说明返回的就是该档口下的商品数据\r\n\t\t\t\t\t\tthis.goodsList = res\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 数据有问题跳转回首页\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '../../pages/index/index',\r\n\t\t\t\t\t\tcomplete (res) {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 数据有问题跳转回首页\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../../pages/index/index',\r\n\t\t\t\t\tcomplete (res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 计算购物车  总数\r\n\t\tcomputeCanteenStallGoodsCarCount(newVal){\r\n\t\t\tthis.userGoodsCarTotalCount = 0\r\n\t\t\tif(newVal.length>0) {\r\n\t\t\t\tfor (let i = 0; i < newVal.length; i++) {\r\n\t\t\t\t\t// 购物车有食堂，往下找到该食堂\r\n\t\t\t\t\tif(newVal[i].canteenId == this.canteenID) {\r\n\t\t\t\t\t\t// 找到该食堂了，往下继续循环找到该档口\r\n\t\t\t\t\t\tfor(let j = 0; j< newVal[i].stalls.length; j++) {\r\n\t\t\t\t\t\t\tif(newVal[i].stalls[j].stallsId == this.stallID) {\r\n\t\t\t\t\t\t\t\t// 找到该档口了,那么继续往下该商品\r\n\t\t\t\t\t\t\t\tfor(let k=0; k<newVal[i].stalls[j].goodsList.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.userGoodsCarTotalCount += newVal[i].stalls[j].goodsList[k].count\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('该食堂下、该档口的购物车  总数')\r\n\t\t\t\tconsole.log(this.userGoodsCarTotalCount)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 计算购物车  总价格\r\n\t\tcomputeCanteenStallGoodsCarTotalPrice(newVal){\r\n\t\t\tthis.userGoodsCarTotalPrice = 0\r\n\t\t\tif(newVal.length>0) {\r\n\t\t\t\tfor (let i = 0; i < newVal.length; i++) {\r\n\t\t\t\t\t// 购物车有食堂，往下找到该食堂\r\n\t\t\t\t\tif(newVal[i].canteenId == this.canteenID) {\r\n\t\t\t\t\t\t// 找到该食堂了，往下继续循环找到该档口\r\n\t\t\t\t\t\tfor(let j = 0; j< newVal[i].stalls.length; j++) {\r\n\t\t\t\t\t\t\tif(newVal[i].stalls[j].stallsId == this.stallID) {\r\n\t\t\t\t\t\t\t\t// 找到该档口了,那么继续往下该商品\r\n\t\t\t\t\t\t\t\tfor(let k=0; k<newVal[i].stalls[j].goodsList.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.userGoodsCarTotalPrice += (newVal[i].stalls[j].goodsList[k].count * Number(newVal[i].stalls[j].goodsList[k].goodsInfo.price))\r\n\t\t\t\t\t\t\t\t\t// 只保留两位小数.toFixed(2) toFixex返回是字符串，所以转一下数字\r\n\t\t\t\t\t\t\t\t\tthis.userGoodsCarTotalPrice = Number(this.userGoodsCarTotalPrice.toFixed(2))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('该食堂下、该档口的购物车  总价格')\r\n\t\t\t\tconsole.log(this.userGoodsCarTotalPrice)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 获取所有购物车数据中，该食堂下，该档口的购物车数据\r\n\t\tcomputeCanteenStallGoodsCarDatas(newVal) {\r\n\t\t\tthis.userGoodsCarDatas = []\r\n\t\t\tif(newVal.length>0) {\r\n\t\t\t\tfor (let i = 0; i < newVal.length; i++) {\r\n\t\t\t\t\t// 购物车有食堂，往下找到该食堂\r\n\t\t\t\t\tif(newVal[i].canteenId == this.canteenID) {\r\n\t\t\t\t\t\t// 找到该食堂了，往下继续循环找到该档口\r\n\t\t\t\t\t\tfor(let j = 0; j< newVal[i].stalls.length; j++) {\r\n\t\t\t\t\t\t\tif(newVal[i].stalls[j].stallsId == this.stallID) {\r\n\t\t\t\t\t\t\t\t// 找到该档口了,那么继续往下该商品\r\n\t\t\t\t\t\t\t\tfor(let k=0; k<newVal[i].stalls[j].goodsList.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// 不获取商品数为0的\r\n\t\t\t\t\t\t\t\t\tif(newVal[i].stalls[j].goodsList[k].count>0) {\r\n\t\t\t\t\t\t\t\t\t\tthis.userGoodsCarDatas.push(newVal[i].stalls[j].goodsList[k])\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('该食堂下、该档口的购物车 数据')\r\n\t\t\t\tconsole.log(this.userGoodsCarDatas)\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t...mapMutations({\r\n\t\t}),\r\n\t\t...mapActions([\r\n\t\t\t'clearUserGoodsCar'\r\n\t\t])\r\n\t\t\r\n\t},\r\n\tcomponents: {\r\n\t\t// goodsScroll,\r\n\t\tgoodsScrollSB,\r\n\t\tstar,\r\n\t\tgoodsCar,\r\n\t\tadsubSymbols,\r\n\t\tevaluateListItem\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\r\n\t\t\t'store_ttt', // 模拟商品数\r\n\t\t\t'store_userGoodsCarDatas'\r\n\t\t])\r\n\t},\r\n\twatch: {\r\n\t\t// 监听购物车商品个数,如果<=0那么关闭购物车浮层\r\n\t\tuserGoodsCarTotalCount(newVal) {\r\n\t\t\tif(newVal<=0) {\r\n\t\t\t\tthis.goodsCarModShow = false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// watch监听vuex数据需要这样\r\n\t\t'store_userGoodsCarDatas':{\r\n\t\t\thandler(newVal) {\r\n\t\t\t\t// 计算总数\r\n\t\t\t\tthis.computeCanteenStallGoodsCarCount(newVal)\r\n\t\t\t\t// 计算总价格\r\n\t\t\t\tthis.computeCanteenStallGoodsCarTotalPrice(newVal)\r\n\t\t\t\t// 获取所有购物车中  该食堂下的该档口的 购物车数据\r\n\t\t\t\tthis.computeCanteenStallGoodsCarDatas(newVal)\r\n\t\t\t},\r\n\t\t\tdeep: true\r\n\t\t},\r\n\t\t\r\n\t}\r\n}\t\r\n","import mod from \"-!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stallsPage.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-1!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--11-oneOf-1-2!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!L:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./stallsPage.vue?vue&type=style&index=0&lang=stylus&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}